{%load url from future%}
{%block preload%}{%endblock%}

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="Shen Minwei">

	<title>{%block title%}{%endblock%}</title>

	{%block css%}{%endblock%}
</head>
<body>
	<div id="wrapper">
		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<!--navbar on the top============================================================-->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="http://docs.openstack.org">OpenStack</a>
			</div>

			<div class="collapse navbar-collapse navbar-ex1-collapse">
				<!--navbar on the left=======================================================-->
				{%block leftnav%}{%endblock%}

				<!--nabvar for user info=====================================================-->
				<ul class="nav navbar-nav navbar-right navbar-user">   		
					<li class="dropdown user-dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> {{user.name}} <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li>
								<a data-toggle="modal" data-target="#userinfo"><i class="fa fa-user"></i> Profile</a>
							</li>
							<li class="divider"></li>
							<li><a href="{%url 'logout'%}"><i class="fa fa-power-off"></i> Log Out</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>
		<div id="page-wrapper">
			<!--user info modal==================================================================-->
			<div class="modal fade" id="userinfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<form action="update" method="post" name="myForm" onsubmit="return validateForm()">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								<h4 class="modal-title" id="myModalLabel">Profile</h4>
							</div>
							<div class="modal-body">
								<div class="row">
									<div class="col-lg-6">
										<fieldset>  
											<div class="control-group">  
												<label class="control-label" for="email">Email:</label>  
												<div class="controls">  
													<input type="text" name="email" value='{{user.email}}'>  
												</div>  
											</div>  
											<div class="control-group">  
												<label class="control-label" for="password">New Password(Not required):</label>  
												<div class="controls">  
													<input type="password" name="password">  
												</div>  
											</div>  
											<div class="control-group">  
												<label class="control-label" for="confirm_password">Confirm Password:</label>  
												<div class="controls">  
													<input type="password" name="confirm_password">  
												</div>  
											</div>  
										</fieldset>  
									</div>
									<div class="col-lg-6">
										<p name="error_message">You can change your info here.</p>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
								<button type="submit" class="btn btn-primary">Save changes</button>
							</div>
						</form>
					</div>
				</div>
			</div>
			{%block modal%}{%endblock%}

			{%block main_content%}{%endblock%}
		</div>
	</div>

	{%block js%}{%endblock%}
</body>
</html>